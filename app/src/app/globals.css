@import "tailwindcss";

/* ================================
   DESIGN SYSTEM - Escrita Criativa
   ================================ */

:root {
  /* Colors - Light Mode */
  --background: 255 255 255; /* #ffffff */
  --foreground: 15 23 42; /* slate-900 */

  /* Primary - Elegant purple/indigo for inspiration */
  --primary: 99 102 241; /* indigo-500 */
  --primary-foreground: 255 255 255;

  /* Secondary - Warm amber for highlights */
  --secondary: 251 191 36; /* amber-400 */
  --secondary-foreground: 15 23 42;

  /* Accent - Creative teal */
  --accent: 20 184 166; /* teal-500 */
  --accent-foreground: 255 255 255;

  /* Muted - Subtle backgrounds */
  --muted: 248 250 252; /* slate-50 */
  --muted-foreground: 100 116 139; /* slate-500 */

  /* Card */
  --card: 255 255 255;
  --card-foreground: 15 23 42;

  /* Borders */
  --border: 226 232 240; /* slate-200 */
  --input: 226 232 240;
  --ring: 99 102 241; /* same as primary */

  /* Semantic Colors */
  --success: 34 197 94; /* green-500 */
  --warning: 234 179 8; /* yellow-500 */
  --error: 239 68 68; /* red-500 */
  --info: 59 130 246; /* blue-500 */

  /* Radius */
  --radius: 0.5rem;
}

.dark {
  /* Colors - Dark Mode */
  --background: 2 6 23; /* Very dark blue-black */
  --foreground: 241 245 249; /* slate-100 */

  --primary: 129 140 248; /* indigo-400 - lighter for dark mode */
  --primary-foreground: 15 23 42;

  --secondary: 252 211 77; /* amber-300 */
  --secondary-foreground: 15 23 42;

  --accent: 45 212 191; /* teal-400 */
  --accent-foreground: 15 23 42;

  --muted: 15 23 42; /* slate-900 */
  --muted-foreground: 148 163 184; /* slate-400 */

  --card: 15 23 42;
  --card-foreground: 241 245 249;

  --border: 30 41 59; /* slate-800 */
  --input: 30 41 59;
  --ring: 129 140 248;

  --success: 74 222 128; /* green-400 */
  --warning: 250 204 21; /* yellow-400 */
  --error: 248 113 113; /* red-400 */
  --info: 96 165 250; /* blue-400 */
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: 2 6 23;
    --foreground: 241 245 249;
  }
}

/* Tailwind Theme Configuration */
@theme inline {
  /* Colors */
  --color-background: rgb(var(--background));
  --color-foreground: rgb(var(--foreground));
  --color-primary: rgb(var(--primary));
  --color-primary-foreground: rgb(var(--primary-foreground));
  --color-secondary: rgb(var(--secondary));
  --color-secondary-foreground: rgb(var(--secondary-foreground));
  --color-accent: rgb(var(--accent));
  --color-accent-foreground: rgb(var(--accent-foreground));
  --color-muted: rgb(var(--muted));
  --color-muted-foreground: rgb(var(--muted-foreground));
  --color-card: rgb(var(--card));
  --color-card-foreground: rgb(var(--card-foreground));
  --color-border: rgb(var(--border));
  --color-input: rgb(var(--input));
  --color-ring: rgb(var(--ring));
  --color-success: rgb(var(--success));
  --color-warning: rgb(var(--warning));
  --color-error: rgb(var(--error));
  --color-info: rgb(var(--info));

  /* Typography */
  --font-sans: var(--font-geist-sans), ui-sans-serif, system-ui, -apple-system, sans-serif;
  --font-mono: var(--font-geist-mono), ui-monospace, monospace;

  /* Border Radius */
  --radius-sm: calc(var(--radius) - 0.25rem);
  --radius-md: var(--radius);
  --radius-lg: calc(var(--radius) + 0.25rem);
  --radius-xl: calc(var(--radius) + 0.5rem);
}

/* Base Styles */
* {
  border-color: rgb(var(--border));
}

body {
  background: rgb(var(--background));
  color: rgb(var(--foreground));
  font-family: var(--font-sans);
  font-feature-settings: "rlig" 1, "calt" 1;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Smooth Scrolling */
html {
  scroll-behavior: smooth;
}

/* Selection */
::selection {
  background: rgba(var(--primary), 0.2);
  color: rgb(var(--foreground));
}

/* Focus Visible */
:focus-visible {
  outline: 2px solid rgb(var(--ring));
  outline-offset: 2px;
}

/* ================================
   TIPTAP EDITOR STYLES
   ================================ */

/* Tiptap placeholder */
.tiptap p.is-editor-empty:first-child::before {
  color: rgb(var(--muted-foreground));
  content: attr(data-placeholder);
  float: left;
  height: 0;
  pointer-events: none;
}

/* Tiptap prose styling */
.tiptap.prose {
  max-width: 100%;
}

.tiptap.prose h1 {
  font-size: 2em;
  font-weight: bold;
  margin-top: 0.67em;
  margin-bottom: 0.67em;
  line-height: 1.2;
}

.tiptap.prose h2 {
  font-size: 1.5em;
  font-weight: bold;
  margin-top: 0.83em;
  margin-bottom: 0.83em;
  line-height: 1.3;
}

.tiptap.prose h3 {
  font-size: 1.17em;
  font-weight: bold;
  margin-top: 1em;
  margin-bottom: 1em;
  line-height: 1.4;
}

.tiptap.prose p {
  margin-top: 1em;
  margin-bottom: 1em;
  line-height: 1.75;
}

.tiptap.prose strong {
  font-weight: 600;
}

.tiptap.prose em {
  font-style: italic;
}

.tiptap.prose code {
  background: rgb(var(--muted));
  border-radius: 0.25rem;
  padding: 0.2em 0.4em;
  font-family: var(--font-mono);
  font-size: 0.85em;
}

.tiptap.prose ul,
.tiptap.prose ol {
  padding-left: 2em;
  margin-top: 1em;
  margin-bottom: 1em;
}

.tiptap.prose ul {
  list-style-type: disc;
}

.tiptap.prose ol {
  list-style-type: decimal;
}

.tiptap.prose li {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

.tiptap.prose blockquote {
  border-left: 4px solid rgb(var(--primary));
  padding-left: 1em;
  margin-top: 1em;
  margin-bottom: 1em;
  font-style: italic;
  color: rgb(var(--muted-foreground));
}

.tiptap.prose hr {
  border: 0;
  border-top: 1px solid rgb(var(--border));
  margin-top: 2em;
  margin-bottom: 2em;
}

/* Focus styles for editor */
.tiptap:focus {
  outline: none;
}

/* Dark mode adjustments */
.dark .tiptap.prose code {
  background: rgb(var(--muted));
  color: rgb(var(--foreground));
}

/* Text selection in editor - IMPORTANT for visibility */
.ProseMirror ::selection {
  background: #6366f1 !important; /* indigo-500 */
  color: white !important;
}

.ProseMirror *::selection {
  background: #6366f1 !important; /* indigo-500 */
  color: white !important;
}

/* Dark mode selection */
.dark .ProseMirror ::selection {
  background: #818cf8 !important; /* indigo-400 - lighter for dark mode */
  color: #0f172a !important; /* slate-900 */
}

.dark .ProseMirror *::selection {
  background: #818cf8 !important;
  color: #0f172a !important;
}

/* Ensure editor is editable and shows cursor */
.ProseMirror {
  outline: none !important;
  cursor: text !important;
}

.ProseMirror:focus {
  outline: none !important;
}

/* Selection color for the editor content wrapper */
.ProseMirror-selectednode {
  outline: 2px solid #6366f1 !important;
}

/* Make sure selection is visible in all child elements */
.ProseMirror p::selection,
.ProseMirror h1::selection,
.ProseMirror h2::selection,
.ProseMirror h3::selection,
.ProseMirror li::selection,
.ProseMirror strong::selection,
.ProseMirror em::selection {
  background: #6366f1 !important;
  color: white !important;
}

.dark .ProseMirror p::selection,
.dark .ProseMirror h1::selection,
.dark .ProseMirror h2::selection,
.dark .ProseMirror h3::selection,
.dark .ProseMirror li::selection,
.dark .ProseMirror strong::selection,
.dark .ProseMirror em::selection {
  background: #818cf8 !important;
  color: #0f172a !important;
}
